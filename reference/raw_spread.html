<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="raw_spread() takes a spread value, the focal cell coordinates, and a
resistance matrix (all values &amp;gt;= 1); executes a resistant spread; and
returns the final snapshot of the spread as a matrix."><title>Interface for the C++ spread code - mainly for internal use — raw_spread • resistantkernel</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Interface for the C++ spread code - mainly for internal use — raw_spread"><meta property="og:description" content="raw_spread() takes a spread value, the focal cell coordinates, and a
resistance matrix (all values &amp;gt;= 1); executes a resistant spread; and
returns the final snapshot of the spread as a matrix."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">resistantkernel</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9021</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ethanplunkett/resistantkernel/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Interface for the C++ spread code - mainly for internal use</h1>
      <small class="dont-index">Source: <a href="https://github.com/ethanplunkett/resistantkernel/blob/HEAD/R/raw_spread.R" class="external-link"><code>R/raw_spread.R</code></a></small>
      <div class="d-none name"><code>raw_spread.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>raw_spread()</code> takes a spread value, the focal cell coordinates, and a
resistance matrix (all values &gt;= 1); executes a resistant spread; and
returns the final snapshot of the spread as a matrix.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">raw_spread</span><span class="op">(</span><span class="va">x</span>, <span class="va">spread_value</span>, <span class="va">row</span>, <span class="va">col</span>, square <span class="op">=</span> <span class="cn">FALSE</span>, symmetrical <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>the resistance matrix, all values must be &gt;= 1</p></dd>


<dt>spread_value</dt>
<dd><p>the initial bank account for the spread, which is
depleted based on the resistance of each cell as the spread progresses.</p></dd>


<dt>row</dt>
<dd><p>the focal row of the spread</p></dd>


<dt>col</dt>
<dd><p>the focal column of the spread</p></dd>


<dt>square</dt>
<dd><p>if <code>TRUE</code> then the diagonal cells will be considered to be one
cell length away from the center and the spread will tend to be square.
The default of <code>FALSE</code> uses a diagonal length of 1.4 cells and spreads
tend to be octagonal.</p></dd>


<dt>symmetrical</dt>
<dd><p>If <code>TRUE</code> then the average resistance of the source
and neighboring destination cell is used to represent the cost of stepping
to a neighboring cell. If <code>FALSE</code> then the destination cell is used to
represent the cost of the step.
The original 2009 algorithm is equivalent to <code>FALSE</code>.
If <code>TRUE</code> then the cost difference between a source and any
(not necessarily adjacent) destination  will be the same as the cost
distance from that destination to the source,
and both will include half the cost of traversing the source and destination
cells.
If <code>FALSE</code> that is not guaranteed as the source cell cost is not included
and the full destination cell cost is.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A matrix with the same dimensions as <code>x</code> the values of which
represent the functional proximity to the focal cell.  They range from
<code>spread_value</code> (at the focal cell) to zero for cells greater than
<code>spread_value</code> (cost) away from the focal cell.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>raw_spread()</code> calculates the functional proximity of each cell to the
focal cell. With the proximity highest at the focal cell where it is
equal to the <code>spread_value</code> and diminishing with distance from the focal
cell (based on the resistance of intervening cells).  The functional
proximity thus is zero for cells with a functional distance greater than
<code>spread_value</code> from the focal cell, regardless of how much greater. In
practice larger spread values allow calculation of a larger functional
distances but requires more processor time.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="spread.html">spread</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create (minimally resistant) test matrix </span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">a</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    1    1    1    1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    1    1    1    1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    1    1    1    1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    1    1    1    1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    1    1    1    1    1</span>
<span class="r-in"><span><span class="fu">raw_spread</span><span class="op">(</span><span class="va">a</span>, <span class="fl">10</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  7.2  7.6    8  7.6  7.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]  7.6  8.6    9  8.6  7.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]  8.0  9.0   10  9.0  8.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]  7.6  8.6    9  8.6  7.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]  7.2  7.6    8  7.6  7.2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add two higher resistance bands</span></span></span>
<span class="r-in"><span><span class="va">a</span><span class="op">[</span><span class="fl">2</span>, <span class="op">]</span>  <span class="op">&lt;-</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="va">a</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="va">a</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    1    5    1    1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    5    5    5    5    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    1    5    1    1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    1    5    1    1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    1    5    1    1    1</span>
<span class="r-in"><span><span class="co"># Average of source and destination resistance used with each step</span></span></span>
<span class="r-in"><span><span class="fu">raw_spread</span><span class="op">(</span><span class="va">a</span>, <span class="fl">10</span>, <span class="fl">3</span>, <span class="fl">3</span>, square <span class="op">=</span> <span class="cn">FALSE</span>, symmetrical <span class="op">=</span>  <span class="cn">FALSE</span><span class="op">)</span> </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  1.6    0    4  3.6  2.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]  0.0    3    5  4.0  3.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]  4.0    5   10  9.0  8.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]  3.6    4    9  8.6  7.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]  2.6    3    8  7.6  7.2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Destination resistance used with each step</span></span></span>
<span class="r-in"><span><span class="fu">raw_spread</span><span class="op">(</span><span class="va">a</span>, <span class="fl">10</span>, <span class="fl">3</span>, <span class="fl">3</span>, square <span class="op">=</span> <span class="cn">FALSE</span>, symmetrical <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>  </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  1.6  1.0    4  3.0  2.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]  1.0  5.8    7  6.0  5.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]  4.0  7.0   10  9.0  8.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]  3.0  6.0    9  8.6  7.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]  2.0  5.0    8  7.6  7.2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Square: the diagonal cost same as orthogonal </span></span></span>
<span class="r-in"><span><span class="va">a</span><span class="op">[</span>,<span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="fu">raw_spread</span><span class="op">(</span><span class="va">a</span>, <span class="fl">10</span>, <span class="fl">3</span>, <span class="fl">3</span>, square <span class="op">=</span> <span class="cn">TRUE</span>, symmetrical <span class="op">=</span>  <span class="cn">FALSE</span><span class="op">)</span> </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    8    8    8    8    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    8    9    9    9    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    8    9   10    9    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    8    9    9    9    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    8    8    8    8    8</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Ethan Plunkett.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

